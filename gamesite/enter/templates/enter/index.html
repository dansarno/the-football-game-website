{% extends "enter/enter_base.html" %}

{% block content %}
<h1 class="text-center">Submission Form</h1>
<form method="POST">
  {% csrf_token %}

  <div class="row">
    <div class="form_section col-md-6 col-lg-6  rounded-lg" id="group_games">
      <h3>Group Matches</h3>
      <p class="help_text">Select either home, draw or away wins for every game below.</p>
      <table>
        <tr>
          <th></th>
          <th></th>
          <th></th>
          <th>Home</th>
          <th>Draw</th>
          <th>Away</th>
        </tr>
        {% for field in group_matches_form %}
        <tr>
          <td class="match_label text-muted">{{ field.label.ko_time|date:'H:00' }}</td>
          <td class="match_label text-muted">{{ field.label.ko_time|date:'D d' }}</td>
          <td class="match_label">{{ field.label.home_team.country.name }} vs {{ field.label.away_team.country.name }}</td>
          {% for radio in field %}
          <td class="match_radio text-muted">{{ radio }}</td>
          {% endfor %}
        </tr>
        {% endfor %}
      </table>
    </div>

    <div class="form_section col-md-6 col-lg-3 rounded-lg" id="tournament-bets">
      <h3>Tournament Totals</h3>
      <p class="help_text">Select one of each.</p>
      {% for field in tournament_bets_form %}
        {{ field.label }}
      <table>
      <tr>
      <td class="pt-0 pb-0">
          <table>
                {% for choice in field.field.queryset %}
                  <tr>
                    <td class="pt-0 pb-0">{{ choice.verbose_outcome }}</td>
                  </tr>
                {% endfor %}
          </table>
      </td>
      <td>
          <table>
                {% for radio in field %}
                  <tr>
                    <td class="match_radio text-muted">{{ radio }}</td>
                  </tr>
                {% endfor %}
          </table>
      </td>
      </tr>
      </table>
<!--        <table class="outcomes-table">-->
<!--        {% for choice in field.field.queryset %}-->
<!--          <tr>-->
<!--          <td>{{ choice.min_value }} to {{ choice.max_value }}</td>-->
<!--          <td class="text-muted">-->
<!--            <input value="{{ choice.id }}" type="radio" name="{{ field.label }}" required/>-->
<!--            {{ choice.winning_amount }}-->
<!--          </td>-->
<!--         </tr>-->
<!--        {% endfor %}-->
<!--        </table>-->
      {% endfor %}
    </div>

  <div class="form_section col-md-6 col-lg-3 rounded-lg" id="final-bets">
      <h3>During the Final</h3>
      <p class="help_text">Select one of each.</p>
      {% for field in final_bets_form %}
        {{ field.label }}
      <table>
      <tr>
      <td class="pt-0 pb-0">
          <table>
                {% for choice in field.field.queryset %}
                  <tr>
                    <td class="pt-0 pb-0">{{ choice.verbose_outcome }}</td>
                  </tr>
                {% endfor %}
          </table>
      </td>
      <td>
          <table>
                {% for radio in field %}
                  <tr>
                    <td class="match_radio text-muted">{{ radio }}</td>
                  </tr>
                {% endfor %}
          </table>
      </td>
      </tr>
      </table>
      {% endfor %}
    </div>

    <div class="form_section col-md-12 col-lg-8 rounded-lg" id="best-team-bets">
      <h3>Top Teams</h3>
      <p class="help_text">Select one from each column.</p>

      <table>
        <tr>
          <th></th>
          {% for field in best_teams_success_bets_form %}
          <th>{{ field.label }}</th>
          {% endfor %}
        </tr>

        <tr>
          <td>
          <table>
            {% for field in best_teams_success_bets_form %}
            {% if forloop.first %}
            {% for choice in field.field.queryset %}
            <tr>
              <td>{{ choice.team.country.name }}</td>
            </tr>
            {% endfor %}
            {% endif %}
            {% endfor %}
          </table>
          </td>

          {% for field in best_teams_success_bets_form %}
          <td>
          <table>
            {% for radio in field %}
            <tr>
              <td class="text-muted">{{ radio }}</td>
            </tr>
            {% endfor %}
          </table>
          </td>
          {% endfor %}
        </tr>

      </table>
    </div>

  </div>

  <input type="submit" class="btn btn-primary btn-lg" value="Confirm and Review">
</form>
{% endblock content %}